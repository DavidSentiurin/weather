(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],{107:function(e,t,a){e.exports={error:"ErrorMessage_error__1dSrT","error-text":"ErrorMessage_error-text__3nr7E"}},194:function(e,t,a){e.exports=a(343)},203:function(e,t,a){},343:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),c=a.n(o),l=a(163),i=a(164),s=a(183),u=a(182),m=a(51),d=(a(203),a(35)),h=a(357),p=a(353),E=a(352),g=a(356),f=a(354),y=a(349),v=a(184),C=function(e){return r.a.createElement(g.a,null,r.a.createElement(f.a,{active:!0,inverted:!0},r.a.createElement(y.a,{size:e.size},"Loading")),e.children?e.children:r.a.createElement(v.a,{src:"https://react.semantic-ui.com/images/wireframe/paragraph.png"}))},O=a(107),b=a.n(O),w=function(e){return r.a.createElement("div",{className:(e.className||"")+" ".concat(b.a.error)},r.a.createElement("p",{className:b.a["error-text"]},e.children))},W=function(e){var t;if(e.status>=400)return r.a.createElement(w,{children:"Server error. Status code: ".concat(e.status)});if((null===(t=e.data)||void 0===t?void 0:t.constructor)!==Object)return console.error("The WeatherTable expects an object. Incoming data: '".concat(typeof e.data,"'")),null;if(0===Object.entries(e.data).length||!e.status)return r.a.createElement(C,{size:"large"});var a=e.data,n=a.clouds,o=a.wind,c=a.name,l=e.data.main,i=l.temp,s=l.humidity,u=l.pressure;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{size:"huge",style:{marginTop:20}},"Weather in ",c),r.a.createElement(p.a,{fluid:!0,color:"yellow",className:"table-card",style:{padding:10}},r.a.createElement(E.a,{basic:"very"},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,r.a.createElement(h.a,{as:"h4",image:!0},r.a.createElement(h.a.Content,null,"Temp"))),r.a.createElement(E.a.Cell,null,i)),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,r.a.createElement(h.a,{as:"h4",image:!0},r.a.createElement(h.a.Content,null,"Clouds"))),r.a.createElement(E.a.Cell,null,"".concat(n.all,"%"))),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,r.a.createElement(h.a,{as:"h4",image:!0},r.a.createElement(h.a.Content,null,"Humidity"))),r.a.createElement(E.a.Cell,null,"".concat(s,"%"))),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,r.a.createElement(h.a,{as:"h4",image:!0},r.a.createElement(h.a.Content,null,"Pressure"))),r.a.createElement(E.a.Cell,null,"".concat(u,"hPa"))),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,r.a.createElement(h.a,{as:"h4",image:!0},r.a.createElement(h.a.Content,null,"Wind Direction"))),r.a.createElement(E.a.Cell,null,"".concat(o.deg,"\xb0"))),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,r.a.createElement(h.a,{as:"h4",image:!0},r.a.createElement(h.a.Content,null,"Wind Speed"))),r.a.createElement(E.a.Cell,null,"".concat(o.speed,"m/s")))))))},T=a(60),_=a.n(T),R=a(108),S="http://api.openweathermap.org/data/2.5/weather",j="8fd11986b3337e190cc8d6d43774fe90",F=a(109),x=a.n(F),k=S,A=j,I={getWeatherFromCoords:function(e,t){if(e&&t)return x.a.get("".concat(k,"?lat=").concat(e,"&lon=").concat(t,"&appid=").concat(A));console.error("Error of coordinates. Latitude: ".concat(e,", longitude: ").concat(t,"."))},getWeatherFromCity:function(e){return x.a.get("".concat(k,"?q=").concat(e,"&appid=").concat(A))}},N=[{id:698740,name:"Odessa",state:"",country:"UA",coord:{lon:30.732622,lat:46.477474}},{id:703448,name:"Kyiv",state:"",country:"UA",coord:{lon:30.516666,lat:50.433334}},{id:702550,name:"Lviv",state:"",country:"UA",coord:{lon:24.023239,lat:49.838261}},{id:709930,name:"Dnipro",state:"",country:"UA",coord:{lon:34.98333,lat:48.450001}}],M=a(351),H=N.map((function(e){return{key:e.id,value:e.name,text:e.name}})),L=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{placeholder:"Select your city",options:H,onChange:e.onChange}))},D=a(15),Y=a(355),z=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),n=t.call(this,e),navigator.geolocation.getCurrentPosition(n.props.onSetLocation),n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.latitude!==e.latitude&&this.props.longitude!==e.longitude){var t=this.props,a=t.latitude,n=t.longitude;this.props.onWeatherFromCoords(a,n)}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},this.props.latitude||this.props.longitude?r.a.createElement(W,{data:this.props.data,status:this.props.status}):r.a.createElement(w,{children:"Your geolocation is unknown. Allow to use geolocation or choose a city"}),r.a.createElement(h.a,{size:"huge"},"Select your City"),r.a.createElement(L,{onChange:this.props.onSetCity}),r.a.createElement(d.b,{to:"/weather"},r.a.createElement(Y.a,{basic:!0,color:"orange"},"See the weather"))))}}]),a}(n.Component),U=Object(m.b)((function(e){return{city:e.city,latitude:e.latitude,longitude:e.longitude,data:e.data,status:e.status}}),(function(e){return{onSetLocation:function(t){return e(function(e){var t=e.coords;return{type:"SET_LOCATION",latitude:t.latitude,longitude:t.longitude}}(t))},onWeatherFromCoords:function(t,a){return e((n=t,r=a,function(){var e=Object(R.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.getWeatherFromCoords(n,r);case 3:a=e.sent,t({type:"WEATHER_FROM_COORDS",data:a.data,status:a.status}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),t({type:"WEATHER_FROM_COORDS",data:null,status:e.t0.response.status});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));var n,r},onSetCity:function(t,a){var n=a.value;e({type:"SET_CITY",city:n}),localStorage.setItem("city",n)}}}))(Object(D.f)(z));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(342);var B=a(59),P=a(181),J={data:{}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATION":return Object.assign({},e,{latitude:t.latitude,longitude:t.longitude});case"WEATHER_FROM_COORDS":return Object.assign({},e,{data:t.data,status:t.status});case"SET_CITY":return Object.assign({},e,{city:t.city});case"WEATHER_FROM_CITY":return Object.assign({},e,{dataWeather:t.dataWeather,statusWeather:t.status});default:return e}},K=Object(m.b)((function(e){return{city:e.city,data:e.dataWeather||{},status:e.statusWeather}}),(function(e){return{onWeatherFromCity:function(t){return e(function(e){var t={};N.forEach((function(a){e===a.name&&(t.latitude=a.coord.lat,t.longitude=a.coord.lon)}));var a=t.latitude,n=t.longitude;return function(){var e=Object(R.a)(_.a.mark((function e(t){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.getWeatherFromCoords(a,n);case 3:r=e.sent,t({type:"WEATHER_FROM_CITY",dataWeather:r.data,status:r.status}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),t({type:"WEATHER_FROM_CITY",dataWeather:null,status:e.t0.response.status});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.city||localStorage.getItem("city");return t&&e.data.name!==t&&e.onWeatherFromCity(t),r.a.createElement("div",{className:"container"},t?r.a.createElement(W,{data:e.data,status:e.status}):r.a.createElement(w,{children:"No city selected. Please return to the main page and select a city"}),r.a.createElement(d.b,{to:"/"},r.a.createElement(Y.a,{basic:!0,color:"orange",style:{marginTop:10}},"Back to home page")))})),$=Object(B.c)(q,Object(B.a)(P.a)),G=r.a.createElement(m.a,{store:$},r.a.createElement(d.a,null,r.a.createElement(D.c,null,r.a.createElement(D.a,{path:"/",component:U,exact:!0}),r.a.createElement(D.a,{path:"/weather",component:K}))));c.a.render(G,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[194,1,2]]]);
//# sourceMappingURL=main.111a846b.chunk.js.map